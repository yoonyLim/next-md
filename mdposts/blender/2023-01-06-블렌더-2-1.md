---
title: "블렌더 2-1"
subtitle: "사물 리깅 - 사물 모델링 및 FK 리깅"
date: "2023-01-06"
---

# [블렌더 2-1] 사물 리깅 - FK(Forward Kinematics) 리깅

### 시작하기에 앞서

- 블렌더 버전: 3.3.1
- 튜토리얼은 유투브 채널 [이것저석 한교수](https://www.youtube.com/@prof_han)의 ["차근차근 블렌더"](https://www.youtube.com/watch?v=FDXK72aASuA&list=PL4eewhFO2d9Mzv2Y2t9DZRtaBVcqQQIq-) 7-12강을 따라간다.

### 기본 단축키

- "L"(Edit Mode): 선택한 점(point), 모서리(edge), 면(face)과 연결된 모든 점, 선, 면 선택
- "F"(Edit Mode): 선택한 모서리들을 잇는 면 생성
- "J"(Edit Mode): 선택된 점들을 잇는 모서리 생성
- "shift" + "D"(Object Mode): 선택한 메쉬 복사하기 
- "/"(Edit Mode): 선택한 메쉬만 보기
- "ctrl" + "J"(Object Mode): 합치기 (모디파이어 적용 전 메쉬에 합치면 합쳐지는 메뒤도 모디파이어 영향 받음)
- "ctrl" + "R"(Edit Mode): 루프컷 생성하기
- "K"(Edit Mode): 면을 잘라 모서리 만들기
- "shift" + "S"(Object Mode): 선택한 메쉬로 커서의 기준점 옮기기
- "ctrl" + "P": 오브젝트 부모 설정하기
- "I"(Object Mode): 키프레임 추가

## 램프 모델링

저번 시간 도넛 만들기 이후에는 사물로 먼저 리깅(Rigging)을 배울 차례다. 따라서 이번 시간은 다른 튜토리얼을 따라하여 스탠드 램프를 모델링하며 리깅을 익힐 예정이다.<br/>
<br/>
일단 리깅에 대해 이해할 필요가 있는데 리깅이란 간단히 설명하자면 모델링에 뼈를 붙이는 작업이다. 한마디로 뼈를 붙여 뼈를 움직이면 모델도 같이 움직이게 만드는 작업이다. 리깅에는 크게 두가지 리깅이 있는데 하나는 FK(Forward Kinematics)이고 다른 하나는 IK(Inverse Kinematics)이다. FK는 상위를 움직여 하위를 같이 움직이는 방식이고 IK는 하위를 움직여 전체를 움직이는 방식이다. 예시를 들자면 어깨를 움직여 손까지의 팔 전체를 움직이는 것이 FK, 손을 움직여 팔을 접었다 펼쳤다 하는 것이 IK라고 할 수 있다. 이번 시간은 램프를 통해 FK를 살펴본다.

![image0](/images/blender/20230106/img0.png)

우선 램프 받침대를 만들기 위해 위와 같이 UV Sphere 메쉬를 추가하여 시작한다.

| | |
| :--- | ---: |
| ![image1](/images/blender/20230106/image1.png) | ![image2](/images/blender/20230106/image2.png) |

이후 왼쪽 위 사진처럼 Edit Mode에서 Edge selection mode로 변경 후 자르고 싶은 모서리들을 선택 후 오른쪽 마우스 클릭으로 Edge Split을 클릭하면 오른쪽 위 사진처럼 구의 윗부분과 아랫부분이 나뉘어진 것을 볼 수 있다.

![image3](/images/blender/20230106/img3.png)

아랫부분은 삭제 후(아랫부분 선택은 아래 반구 아무 모서리 선택 후 "L" 단축키로 전체 반구 선택 후 "X" 단축키로 삭제하면 편하다) 남은 반구의 아랫면을 채우기 위해 아래의 모서리들을 선택 후 "F" 단축키로 면을 생성하자. 이후 부드러운 표현을 위해 Shade Smooth를 적용했다.<br/>
<br/>
이제는 램프의 몸체를 만들 차례이다. 이전 도넛을 만들며 배운 기술들을 활용하여 두 개의 반원을 만들고 그 두 반원의 지름이 되는 모서리들을 선택하고 br/idge Edge Loops를 아래 왼쪽 사진처럼 선택하자. 그러면 두 반원이 이어지며 몸체 부분이 완성되고 단축키 "E" 키를 눌러 Z축으로 높이를 뽑아내면 오른쪽 아래와 같은 사진으로 부피 있는 몸체를 만들 수 있다.

| | |
| :--- | ---: |
| ![image4](/images/blender/20230106/image4.png) | ![image5](/images/blender/20230106/image5.png) |

그래도 사실적인 램프를 만들기 위해 몸체와 받침대를 잇는 지지대 부분을 만들어보자.

| | |
| :--- | ---: |
| ![image6](/images/blender/20230106/image6.png) | ![image7](/images/blender/20230106/image7.png) |

위 왼쪽 위 사진처럼 몸체 부분의 끝 반원을 떼어내("shift" + "D" 이용) 지지대를 만들자. 이후 해당 부분 선택 후 "/" 단축키를 누르면 오른쪽 위 사진처럼 따로 해당 부분만 보며 높이 및 일부 부분을 수정할 수 있다.

![image8](/images/blender/20230106/img8.png)

이후 위 사진처럼 지지대와 몸체를 이미 만든 몸체를 복사하여 위치를 조정하자. 이 때 지지대는 받침대의 부속 부분이므로 "ctrl" + "J"로 합치자.

| | |
| :--- | ---: |
| ![image9](/images/blender/20230106/image9.png) | ![image10](/images/blender/20230106/image10.png) |

이제는 램프의 머리 부분을 만들어 보자. 위 왼쪽 사진처럼 원으로 시작하고 "E" 단축키로 길이를 주면 위 오른쪽 사진처럼 램프 머리 부분을 만들 수 있다. 이 때 위 쪽이나 아래 쪽 한 부분을 면으로 채워 일반적으로 아는 램프 뒷부분을 만들어 주자. (물론 본인이 생각하는 대로 뚫린 디자인이어도 상관은 없다)

![image11](/images/blender/20230106/img11.png)

그리고 "ctrl" + "R" 단축키를 활용하여 루프컷들을 만들어 원하는 위치를 줄이거나 늘려 원하는 램프 머리 모양을 잡자. 그리고 부드러운 모양을 원하므로 Shade Smooth 후 Sudivision Surface 모디파이어를 추가했다.

| | |
| :--- | ---: |
| ![image12](/images/blender/20230106/image12.png) | ![image13](/images/blender/20230106/image13.png) |

그러나 모디파이어 추가 후 왼쪽 위 사진처럼 램프 뒷부분이 의도치 않게 둥근 모서리가 되었다면 "N" 단축키로 오른쪽 탭을 열고 Item 탭에서 Mean Crease를 최대로 주면 오른쪽 위 사진처럼 다시 각진 모서리로 되돌릴 수 있다.

| | |
| :--- | ---: |
| ![image14](/images/blender/20230106/image14.png) | ![image15](/images/blender/20230106/image15.png) |

이후 왼쪽 위 사진처럼 받침대의 지지대를 그대로 가져다가 오른쪽 위 사진처럼 램프 머리에 이동시켜 램프의 모양새를 갖추었다.

| | |
| :--- | ---: |
| ![image16](/images/blender/20230106/image16.png) | ![image17](/images/blender/20230106/image17.png) |

이제는 사실적 표현을 위해 나사를 만들어 보자. 우선 왼쪽 위 사진처럼 면이 채워진 원으로 시작하고 일자 나사를 표현하기 위해 원하는 위치에 "K" 단축키를 활용하여 잘라낸 부분에 모서리를 추가하자. 그리고 오른쪽 위 사진처럼 "E" 단축키로 원하는 부분에 원하는 만큼 길이를 주고 나사를 적절한 곳으로 이동시키자. 이후 두 개를 더 만들어 몸체 중간 그리고 램프 머리에도 위치시켰다.

![image18](/images/blender/20230106/img18.png)

이전에 만든 램프 머리는 "E" 단축키로 길이를 뽑아냈을 뿐이므로 부피가 있어보이진 않는다. 따라서 Solidify 모디파이어를 활용해 부피를 주었다.

![image19](/images/blender/20230106/img19.png)

램프 머리 아래 지지대는 램프 머리의 부속품이므로 "ctrl" + "J"로 합쳐주자. 그러나 주의할 것은 램프 머리에 추가한 모디파이어를 미리 적용시켜서 지지대를 합쳤을 때 지지대까지 모디파이어가 추가되지 않게 해야 한다. 그렇지 않으면 이상한 모양새의 크기도 맞지 않는 지지대가 생성된다. 아래 몸체 또한 두 막대기로 이루어졌으나 하나의 오브젝트로 움직일 예정이기에 하나의 오브젝트로 합쳐주자.<br/>

## FK 리깅

이제 모델링은 끝났으니 리깅 준비를 위해 각 부분이 움직일 기준점을 정할 차례다.

![image20](/images/blender/20230106/img20.png)

나사를 기준점으로 몸체를 움직일 것이기 때문에 커서를 나사로 옮겨와 몸체의 기준점을 정할 것이다. 램프의 아래 몸체의 바닥 지지대에 있는 나사를 선택 후(Object Mode) "shift"+"S" 단축키로 Cursor to Selected를 클릭하여 커서를 나사의 중심으로 옮겨온다.

![image21](/images/blender/20230106/img21.png)

이후 위 사진처럼 아래 몸체를 선택한 후 오른쪽 마우스 클릭으로 Set Origin -> Origin to 3D Cursor를 선택하면 몸체의 기준점이 나사로 옮겨온 커서에 이동하게 된다. 즉 몸체는 우리가 원하는 대로 나사를 기준으로 회전하게 된다는 것이다.

![image22](/images/blender/20230106/img22.png)

따라서 잘 진행했다면 위 사진처럼 램프의 아래 몸체가 나사를 기준으로 회전되는 것을 볼 수 있다. 이후 각 몸체의 기준점을 적절한 나사를 기준으로 위에서 했던 방식 대로 옮겨오자.

![image23](/images/blender/20230106/img23.png)

우리는 램프 머리를 움직일 때 몸체에 연결되어 움직이길 원하지 따로 허공에서 움직이길 원치 않는다. 따라서 위 사진처럼 램프 머리를 위 몸체에, 위 몸체를 아래 몸체에, 아래 몸체를 받침대의 자식이 되게끔 "ctrl"+"P" 단축키로 Parent를 설정하자.(도넛 튜토리얼 때 배운 것처럼 마지막 선택한 오브젝트가 먼저 선택한 오브젝트의 부모가 된다)

![image24](/images/blender/20230106/img24.png)

제대로 부모 설정이 되었다면 위 사진처럼 램프의 어느 부분을 움직이더라도 부모 오브젝트에 붙어 움직이게 되고 자식 오브젝트도 똑같은 회전 및 위치 이동을 보인다.<br/>
<br/>
마지막으로 도넛 애니메이션 때 배운 것처럼 "I" 단축키로 키프레임을 추가하여 램프가 수그렸다 점프하는 애니메이션을 튜토리얼을 따라 만들었다.

<video width="100%" autoplay loop controls>
  <source src="https://user-images.githubusercontent.com/64838255/211002848-99fd9665-f22b-4785-86de-c4a4a099c192.mov" type="video/mp4">
</video>